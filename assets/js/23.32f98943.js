(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{392:function(e,a,t){"use strict";t.r(a);var o=t(26),r=Object(o.a)({},(function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("h1",{attrs:{id:"scanning-analyzing-and-refreshing-metadata"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#scanning-analyzing-and-refreshing-metadata"}},[e._v("#")]),e._v(" Scanning, Analyzing and Refreshing Metadata")]),e._v(" "),t("p",[e._v("Once a library has been created, it is processed by Komga so all the files are matched to series and books, and metadata is gathered. As time goes on, you’ll add and remove books to the libraries or make other changes that mean the library is no longer up-to-date. You can Scan libraries to bring them up-to-date. Scanning, Analyzing and Refreshing a library do different things.")]),e._v(" "),t("h2",{attrs:{id:"scan-library-files"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#scan-library-files"}},[e._v("#")]),e._v(" Scan Library Files")]),e._v(" "),t("p",[e._v("Scanning a library makes Komga check its folders and sub-folders for new or removed books. If it finds new media, it then pulls it into the library. You can think of scanning as “check for new or changed content”.")]),e._v(" "),t("p",[e._v("All files that have changed after a scan will be Analyzed.")]),e._v(" "),t("p",[e._v("You should Scan Library Files if you have:")]),e._v(" "),t("ul",[t("li",[e._v("Added or deleted files or folders")]),e._v(" "),t("li",[e._v("Renamed a file or folder")]),e._v(" "),t("li",[e._v("Moved files or folders from one location to another")])]),e._v(" "),t("p",[e._v("By default, Komga will scan your libraries regularly.")]),e._v(" "),t("h2",{attrs:{id:"what-happens-during-a-scan"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#what-happens-during-a-scan"}},[e._v("#")]),e._v(" What happens during a Scan?")]),e._v(" "),t("p",[e._v("Komga will generate a library representation of your files on disk. A Komga library does "),t("em",[e._v("not")]),e._v(" represent exactly your folder structure.")]),e._v(" "),t("ul",[t("li",[e._v("Komga will create a "),t("em",[e._v("Series")]),e._v(" for each subfolder of any library, whatever the depth of this subfolder in your directory structure")]),e._v(" "),t("li",[e._v("Komga will create a "),t("em",[e._v("Book")]),e._v(" for each file found, and place it inside the "),t("em",[e._v("Series")]),e._v(" corresponding to the parent folder of the file")])]),e._v(" "),t("h2",{attrs:{id:"analyze-books"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#analyze-books"}},[e._v("#")]),e._v(" Analyze books")]),e._v(" "),t("p",[e._v("Analysis is automatically performed when content is added to your Library. In rare cases, new versions of Komga may update the media analysis capabilities to correct something or add the ability to detect new things. In those cases, content may be re-analyzed when you access it after the new server version is installed.")]),e._v(" "),t("h3",{attrs:{id:"what-happens-during-analysis"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#what-happens-during-analysis"}},[e._v("#")]),e._v(" What happens during Analysis?")]),e._v(" "),t("p",[e._v("Whenever an item is added to one of your Libraries, Komga performs some analysis on it to gather information. In addition, all files analyzed will also be refreshed for metadata.")]),e._v(" "),t("h4",{attrs:{id:"gather-media-properties"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#gather-media-properties"}},[e._v("#")]),e._v(" Gather media properties")]),e._v(" "),t("p",[e._v("The primary purpose of media analysis is to gather information about that media item. All of the media you add to a Library has properties that are useful to know, such as:")]),e._v(" "),t("ul",[t("li",[e._v("Container: ZIP, RAR, EPUB, PDF, etc.")]),e._v(" "),t("li",[e._v("Images Format: JPEG, PNG, WEBP, etc.")])]),e._v(" "),t("p",[e._v("Why, though? What use are these media properties? Your Server, together with your apps, can use this information to help determine whether (and how) content can be played.")]),e._v(" "),t("p",[e._v("For example: Imagine you have a CBR file with WEBP images, but you’re using Internet Explorer (which can’t read WEBP). Since the webreader knows what kind of content your browser can display and since your media analysis detected that the book has WEBP images, your Komga Server can convert those images to a compatible format (like JPEG) for you in order to let you read your book successfully.")]),e._v(" "),t("h4",{attrs:{id:"generate-default-artwork"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#generate-default-artwork"}},[e._v("#")]),e._v(" Generate default artwork")]),e._v(" "),t("p",[e._v("During analysis, artwork will automatically be grabbed from a book file. The first page will be used for poster/thumbnail type purposes.")]),e._v(" "),t("h3",{attrs:{id:"analyze-your-content"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#analyze-your-content"}},[e._v("#")]),e._v(" Analyze your content")]),e._v(" "),t("p",[e._v("You can analyze content in multiple ways: for a book, for a series, or even for an entire Library.")]),e._v(" "),t("p",[e._v("Look for the action menu icon "),t("img",{staticStyle:{"vertical-align":"middle"},attrs:{src:"/assets/media/guides/action-menu-icon.png",height:"32"}}),e._v(" and click on "),t("em",[e._v("Analyze")]),e._v(".")]),e._v(" "),t("div",{staticClass:"custom-block danger"},[t("p",{staticClass:"custom-block-title"},[e._v("WARNING")]),e._v(" "),t("p",[e._v("Depending on the size of your Library, analysis may take a while.")])]),e._v(" "),t("h3",{attrs:{id:"media-analysis-screen"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#media-analysis-screen"}},[e._v("#")]),e._v(" Media Analysis screen")]),e._v(" "),t("p",[e._v("You can check all the media for which the analysis did not succeed from the Media Analysis screen. You can access it from "),t("em",[e._v("Server Settings > Media Analysis")]),e._v(".")]),e._v(" "),t("p",[e._v("It will show you all books with a status of:")]),e._v(" "),t("ul",[t("li",[e._v("Error: Komga could not analyze the book. If possible, there will be a comment to describe the error.")]),e._v(" "),t("li",[e._v("Unsupported: Komga does not support those files. The comment will give you more information.")])]),e._v(" "),t("a",{attrs:{href:"/assets/media/guides/scan-analysis-refresh/media-analysis.png"}},[t("img",{staticStyle:{"vertical-align":"middle","max-height":"400px"},attrs:{src:"/assets/media/guides/scan-analysis-refresh/media-analysis.png",alt:"Media Analysis"}})]),e._v(" "),t("h2",{attrs:{id:"refresh-metadata"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#refresh-metadata"}},[e._v("#")]),e._v(" Refresh metadata")]),e._v(" "),t("p",[e._v("Refreshing Metadata for a library, series, or individual book causes the metadata for the item to be refreshed, even if it already has metadata. You can think of refreshing as “update metadata for the requested item even if it already has some”.")]),e._v(" "),t("p",[e._v("You should refresh a library or individual item if:")]),e._v(" "),t("ul",[t("li",[e._v("You’ve changed options for the library")]),e._v(" "),t("li",[e._v('You’ve added "local media assets" (such as artwork)')])]),e._v(" "),t("p",[e._v("Metadata is gathered from the following sources:")]),e._v(" "),t("ul",[t("li",[e._v("a local "),t("code",[e._v("ComicInfo.xml")]),e._v(" file located inside a CBZ or CBR")]),e._v(" "),t("li",[e._v("the metadata of an EPUB file")]),e._v(" "),t("li",[e._v("local media assets")])]),e._v(" "),t("p",[e._v("The metadata refresh is dependent of the options of the Library.")]),e._v(" "),t("h3",{attrs:{id:"import-metadata-for-cbr-cbz-containing-a-comicinfo-xml-file"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#import-metadata-for-cbr-cbz-containing-a-comicinfo-xml-file"}},[e._v("#")]),e._v(" Import metadata for CBR/CBZ containing a ComicInfo.xml file")]),e._v(" "),t("h4",{attrs:{id:"book-metadata"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#book-metadata"}},[e._v("#")]),e._v(" Book metadata")]),e._v(" "),t("p",[e._v("This will import the following fields from the "),t("code",[e._v("ComicInfo.xml")]),e._v(" file into Komga:")]),e._v(" "),t("ul",[t("li",[t("code",[e._v("Year")]),e._v(", "),t("code",[e._v("Month")]),e._v(", and "),t("code",[e._v("Day")]),e._v(" to form the "),t("em",[e._v("Release Date")])]),e._v(" "),t("li",[t("code",[e._v("Writer")]),e._v(", "),t("code",[e._v("Penciller")]),e._v(", "),t("code",[e._v("Inker")]),e._v(", "),t("code",[e._v("Colorist")]),e._v(", "),t("code",[e._v("Letterer")]),e._v(", "),t("code",[e._v("CoverArtist")]),e._v(", and "),t("code",[e._v("Editor")]),e._v(" as "),t("em",[e._v("Authors")]),e._v(" with the according role.  A value with multiple names separated by a "),t("code",[e._v(",")]),e._v(" will be split in different authors.")]),e._v(" "),t("li",[t("code",[e._v("Title")]),e._v(", "),t("code",[e._v("Summary")]),e._v(", "),t("code",[e._v("Number")]),e._v(" as their Komga equivalent")]),e._v(" "),t("li",[e._v("valid "),t("code",[e._v("Web")]),e._v(" links as a book link")])]),e._v(" "),t("h4",{attrs:{id:"series-metadata"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#series-metadata"}},[e._v("#")]),e._v(" Series metadata")]),e._v(" "),t("p",[e._v("This will import the following fields from the "),t("code",[e._v("ComicInfo.xml")]),e._v(" of the Series' books into Komga.")]),e._v(" "),t("ul",[t("li",[e._v("The "),t("code",[e._v("Series")]),e._v(" and "),t("code",[e._v("Volume")]),e._v(" tags will be used to overwrite the title of the Series, in the form "),t("code",[e._v("<Series> (<Volume>)")]),e._v(", or just "),t("code",[e._v("<Series>")]),e._v(" if the "),t("code",[e._v("Volume")]),e._v(" tag is not present or if the "),t("code",[e._v("Volume")]),e._v(" is "),t("code",[e._v("1")]),e._v(". If multiple values are present, the most frequent value from all books will be used.")]),e._v(" "),t("li",[e._v("The various "),t("code",[e._v("AgeRating")]),e._v(" values will be converted to a number in Komga. The highest value from all books will be used.")]),e._v(" "),t("li",[e._v("The most frequent "),t("code",[e._v("Publisher")]),e._v(" value will be used as Komga's equivalent.")]),e._v(" "),t("li",[e._v("A "),t("code",[e._v("Manga")]),e._v(" field with the value "),t("code",[e._v("YesAndRightToLeft")]),e._v(" will mark the reading direction as "),t("em",[e._v("Right to left")]),e._v(". The most frequent value from all books will be used.")]),e._v(" "),t("li",[e._v("The "),t("code",[e._v("Genre")]),e._v(" field will be split by "),t("code",[e._v(",")]),e._v(". All genres from all books will be added to the Series.")]),e._v(" "),t("li",[e._v("The "),t("code",[e._v("LanguageISO")]),e._v(" field will be used as the Series' language. The most frequent value from all books will be used.")]),e._v(" "),t("li",[e._v("The highest value from "),t("code",[e._v("Count")]),e._v(" will be used as the total count of books.")])]),e._v(" "),t("h4",{attrs:{id:"collections"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#collections"}},[e._v("#")]),e._v(" Collections")]),e._v(" "),t("p",[e._v("The "),t("code",[e._v("SeriesGroup")]),e._v(" tag will be used to create a collection with that name, or add the series to an existing collection with that name.")]),e._v(" "),t("p",[e._v("If the "),t("code",[e._v("SeriesGroup")]),e._v(" tag is set to a different value in each book of the series, then each value of the tag will create a collection.")]),e._v(" "),t("h4",{attrs:{id:"read-lists"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#read-lists"}},[e._v("#")]),e._v(" Read lists")]),e._v(" "),t("p",[e._v("The "),t("code",[e._v("AlternateSeries")]),e._v(" or "),t("code",[e._v("StoryArc")]),e._v(" tags will be used to create a read list with that name, or add the book to an existing read list with that name.")]),e._v(" "),t("p",[e._v("If the "),t("code",[e._v("AlternateNumber")]),e._v(" tag is set, it will be used to position the book in the read list.")]),e._v(" "),t("h5",{attrs:{id:"storyarcnumber"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#storyarcnumber"}},[e._v("#")]),e._v(" StoryArcNumber")]),e._v(" "),t("p",[e._v("If the "),t("code",[e._v("StoryArcNumber")]),e._v(" tag is set, it will be used in conjunction with "),t("code",[e._v("StoryArc")]),e._v(" to position the book in the read list.")]),e._v(" "),t("p",[e._v("Both "),t("code",[e._v("StoryArc")]),e._v(" and "),t("code",[e._v("StoryArcNumber")]),e._v(" tags can contain multiple values, separated by "),t("code",[e._v(",")]),e._v(". Komga will do its best to match each pair:")]),e._v(" "),t("ul",[t("li",[e._v("If both tags are set, but do not contain the same number of values, the extra values will not be used")]),e._v(" "),t("li",[e._v("If there are invalid values, like blank strings or invalid numbers, the whole pair will be ignored")])]),e._v(" "),t("h3",{attrs:{id:"import-metadata-from-epub-files"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#import-metadata-from-epub-files"}},[e._v("#")]),e._v(" Import metadata from EPUB files")]),e._v(" "),t("h4",{attrs:{id:"book-metadata-2"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#book-metadata-2"}},[e._v("#")]),e._v(" Book metadata")]),e._v(" "),t("p",[e._v("This will import the following fields from the Epub metadata into Komga:")]),e._v(" "),t("ul",[t("li",[t("code",[e._v("dc:title")]),e._v(" element as the "),t("em",[e._v("Title")])]),e._v(" "),t("li",[t("code",[e._v("dc:description")]),e._v(" element as the "),t("em",[e._v("Summary")])]),e._v(" "),t("li",[t("code",[e._v("dc:publisher")]),e._v(" element as the "),t("em",[e._v("Publisher")])]),e._v(" "),t("li",[t("code",[e._v("dc:date")]),e._v(" element as the "),t("em",[e._v("Release date")])]),e._v(" "),t("li",[e._v("The "),t("code",[e._v("page-progression-direction")]),e._v(" property of the "),t("code",[e._v("spine")]),e._v(" element as the "),t("em",[e._v("Reading direction")])]),e._v(" "),t("li",[t("code",[e._v("dc:creator")]),e._v(" element as "),t("em",[e._v("Authors")]),e._v(". The role will be imported either from the "),t("code",[e._v("opf:role")]),e._v(" property, or from a "),t("code",[e._v("meta")]),e._v(" element containing "),t("code",[e._v("role")]),e._v(" property and a "),t("code",[e._v("marc:relators")]),e._v(" scheme. A value with multiple names separated by a "),t("code",[e._v(",")]),e._v(" will be split in different authors.")])]),e._v(" "),t("h4",{attrs:{id:"series-metadata-2"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#series-metadata-2"}},[e._v("#")]),e._v(" Series metadata")]),e._v(" "),t("p",[e._v("The "),t("code",[e._v("belongs-to-collection")]),e._v(" meta property will be used to overwirte the title of a Series, only if:")]),e._v(" "),t("ul",[t("li",[e._v("at least one book in the series has the property "),t("code",[e._v("belongs-to-collection")]),e._v(" set")]),e._v(" "),t("li",[e._v("if multiple books have the property "),t("code",[e._v("belongs-to-collection")]),e._v(" set, the most frequent value will be used")])]),e._v(" "),t("h3",{attrs:{id:"import-metadata-generated-by-mylar"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#import-metadata-generated-by-mylar"}},[e._v("#")]),e._v(" Import metadata generated by Mylar")]),e._v(" "),t("p",[t("a",{attrs:{href:"https://github.com/mylar3/mylar3",target:"_blank",rel:"noopener noreferrer"}},[e._v("Mylar"),t("OutboundLink")],1),e._v(" can generate a "),t("code",[e._v("series.json")]),e._v(" file inside your Series folders. This option will import the following fields into Komga:")]),e._v(" "),t("ul",[t("li",[e._v("The "),t("code",[e._v("name")]),e._v(" field will be used for the Series title. If the "),t("code",[e._v("volume")]),e._v(" field is set and is different from "),t("code",[e._v("1")]),e._v(", then the "),t("code",[e._v("year")]),e._v(" field will be appended to the title, in the form "),t("code",[e._v("<name> (<year>)")]),e._v(".")]),e._v(" "),t("li",[t("code",[e._v("status")]),e._v(" will be used to set the Series status.")]),e._v(" "),t("li",[t("code",[e._v("description_formatted")]),e._v(" or "),t("code",[e._v("description_text")]),e._v(" will be used for the Series summary.")]),e._v(" "),t("li",[t("code",[e._v("publisher")]),e._v(" will be used for the Series publisher.")]),e._v(" "),t("li",[t("code",[e._v("age_rating")]),e._v(" will be used for the Series age rating.")]),e._v(" "),t("li",[t("code",[e._v("total_issues")]),e._v(" will be used for the total count of books.")])]),e._v(" "),t("h3",{attrs:{id:"import-local-media-assets"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#import-local-media-assets"}},[e._v("#")]),e._v(" Import local media assets")]),e._v(" "),t("h4",{attrs:{id:"local-artwork"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#local-artwork"}},[e._v("#")]),e._v(" Local artwork")]),e._v(" "),t("p",[e._v("This will enable import for local artwork, check the "),t("a",{attrs:{href:"/guides/local-artwork-assets"}},[e._v("Local Artwork Assets")]),e._v(" section for more information.")]),e._v(" "),t("h3",{attrs:{id:"import-isbn-within-barcode"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#import-isbn-within-barcode"}},[e._v("#")]),e._v(" Import ISBN within barcode")]),e._v(" "),t("h4",{attrs:{id:"isbn-barcode"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#isbn-barcode"}},[e._v("#")]),e._v(" ISBN barcode")]),e._v(" "),t("p",[e._v("Komga will inspect the first and last 3 pages of each book for barcodes. If a barcode is present and contains an ISBN code, it will be imported.")])])}),[],!1,null,null,null);a.default=r.exports}}]);